#Java #awt #LayoutManager

## Менеджеры компоновки Layout

2024-05-23 15:26

Менеджер компоновки (layout manager) определяет, каким образом на форме будут располагаться компоненты. Поддержка менеджеров расположения встроена в базовый класс контейнеров java.awt.Container. Независимо от платформы, виртуальной машины, разрешения и размеров экрана менеджер компоновки гарантирует, что компоненты будут иметь предпочтительный или близкий к нему размер и располагаться в том порядке, который был указан программистом при создании программы.

Менеджер компоновки автоматически позиционирует все компоненты внутри контейнера. Если мы не используем layout manager, то компоненты также позиционируются менеджером компоновки по умолчанию. Элементы управления можно расположить вручную, но это становится очень сложным по следующим двум причинам.

- Обрабатывать большое количество элементов управления внутри контейнера очень утомительно.
- Часто информация о ширине и высоте компонента не предоставляется, когда нам нужно их упорядочить.

Менеджер компоновки связан с каждым объектом контейнера. Каждый менеджер компоновки является объектом класса, который реализует интерфейс LayoutManager.
Для реализации менеджеров компоновки есть два интерфейса - LayoutManager и LayoutManager2. Отличаются они тем, что во втором случае есть объект constraints, который позволяет задать какую-то дополнительную характеристику для расположения.

### Интерфейс LayoutManager

Этот интерфейс определяет все методы, которые будут реализованы, но не дает никакого представления о функционировании. Он содержит полную информацию о том, как разместить компоненты в контейнере. Он может быть объявлен следующим образом: `public interface LayoutManager`

| N   | Метод и описание                                                                                                                                                                                              |
| --- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1   | **void addLayoutComponent(String name, Component comp)**<br>Если менеджер компоновки использует строку для каждого компонента, добавляет component comp в макет, связывая его со строкой, указанной по имени. |
| 2   | **void layoutContainer(Container parent)**<br>Размещает указанный контейнер.                                                                                                                                  |
| 3   | **Dimension minimumLayoutSize(Container parent)**<br>Вычисляет минимальные размеры для указанного контейнера с учетом содержащихся в нем компонентов.                                                         |
| 4   | **Dimension preferredLayoutSize(Container parent)**<br>Вычисляет предпочтительные размеры для указанного контейнера с учетом содержащихся в нем компонентов.                                                  |
| 5   | **void removeLayoutComponent(Component comp)**<br>Удаляет указанный компонент из макета.                                                                                                                      |

### Интерфейс LayoutManager2

Для этого интерфейса требуется ряд ограничений для установки положения компонентов в контейнере. Его можно объявить следующим образом: `public interface LayoutManger2 extends LayoutManager`

| N   | Метод и описание                                                                                                                                                      |
| --- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1   | **void addLayoutComponent(Component comp, Object constraints)**<br>Добавляет указанный компонент в макет, используя указанный объект ограничения.                     |
| 2   | **float getLayoutAlignmentX(Container target)**<br>Возвращает выравнивание по оси x.                                                                                  |
| 3   | **float getLayoutAlignmentY(Container target)**<br><br>Возвращает выравнивание по оси y.                                                                              |
| 4   | **void invalidateLayout(Container target)**<br>Делает макет недействительным, указывая, что если диспетчер макетов имеет кэшированную информацию, ее следует удалить. |
| 5   | **Dimension maximumLayoutSize(Container target)**<br>Вычисляет максимальные размеры для указанного контейнера с учетом содержащихся в нем компонентов                 |
При создании контейнера назначается LayoutManager по умолчанию, который поддерживает каждый компонент этого контейнера. Новый LayoutManager может быть установлен с помощью метода **setLayout().** Контейнер обращается к LayoutManager с помощью метода **doLayout()** для перестановки своих компонентов. Это делается после первой проверки компонентов.

В основном существует 5 наиболее часто используемых LayoutManagers, как показано на рисунке ниже:
![[LayoutManager.png]]

### Классы AWT Layout Manager

Список часто используемых элементов управления при разработке графического интерфейса с использованием [AWT](AWT).

| N   | LayoutManager и описание                                                                                                                                                                                                        |
| --- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1   | [BorderLayout](BorderLayout) - упорядочивает компоненты таким образом, чтобы они соответствовали пяти регионам: востоку, западу, северу, югу и центру                                                                           |
| 2   | [CardLayout](CardLayout) - обрабатывает каждый компонент в контейнере как карточку. Одновременно видна только одна карточка.                                                                                                    |
| 3   | [FlowLayout](FlowLayout) - это макет по умолчанию. Он размещает компоненты в виде направленного потока.                                                                                                                         |
| 4   | [GridLayout](GridLayout) управляет компонентами в виде прямоугольной сетки.                                                                                                                                                     |
| 5   | [GridBagLayout](GridBagLayout) - это самый гибкий класс layout manager. Объект GridBagLayout выравнивает компоненты по вертикали, горизонтали или вдоль их базовой линии, не требуя, чтобы компоненты были одинакового размера. |
