## Класс Scanner

#Java #ScannerClass

2023-09-06 15:22

В Java **_Scanner_** - это класс в пакете java.util, используемый для получения входных данных примитивных типов, таких как int, double и т.д., и строк. Использование класса **_Scanner_** в Java - это самый простой способ считывания входных данных в программе Java, хотя и не очень эффективный, если вам нужен метод ввода для сценариев, где время является ограничением, как в конкурентном программировании.
Ниже приведены важные моменты о Scanner:
- Сканер разбивает свои входные данные на токены, используя шаблон разделителя, который по умолчанию соответствует пробелу.
- Операция сканирования может блокировать ожидание ввода.
- Сканер небезопасен для многопоточного использования без внешней синхронизации.

### Объявление класса

```java
public final class Scanner extends Object implements Iterator<String>, Closeable
```

### Конструкторы

| Конструктор                                             | Описание                                                                                       |
| ------------------------------------------------------- | ---------------------------------------------------------------------------------------------- |
| Scanner(File source)                                    | Создает новый, Scanner который выдает значения, отсканированные из указанного файла.           |
| Scanner(File source, String charsetName)                | Создает новый, Scanner который выдает значения, отсканированные из указанного файла.           |
| Scanner(File source, Charset charset)                   | Создает новый, Scanner который выдает значения, отсканированные из указанного файла.           |
| Scanner(InputStream source)                             | Создает новый, Scanner который выдает значения, отсканированные из указанного входного потока. |
| Scanner(InputStream source, String charsetName)         | Создает новый, Scanner который выдает значения, отсканированные из указанного входного потока. |
| Scanner(InputStream source, Charset charset)            | Создает новый, Scanner который выдает значения, отсканированные из указанного входного потока. |
| Scanner(Readable source)                                | Создает новый, Scanner который выдает значения, отсканированные из указанного источника.       |
| Scanner(String source)                                  | Создает новый, Scanner который выдает значения, отсканированные из указанной строки.           |
| Scanner(ReadableByteChannel source)                     | Создает новый, Scanner который выдает значения, отсканированные из указанного канала.          |
| Scanner(ReadableByteChannel source, String charsetName) | Создает новый, Scanner который выдает значения, отсканированные из указанного канала.          |
| Scanner(ReadableByteChannel source, Charset charset)    | Создает новый, Scanner который выдает значения, отсканированные из указанного канала.          |
| Scanner(Path source)                                    | Создает новый, Scanner который выдает значения, отсканированные из указанного файла.           |
| Scanner(Path source, String charsetName)                | Создает новый, Scanner который выдает значения, отсканированные из указанного файла.           |
| Scanner(Path source, Charset charset)                   | Создает новый, Scanner который выдает значения, отсканированные из указанного файла.           |

### Методы класса

| N   | Метод и описание                                                                                                                                                                                                                                                                                                                               |
| --- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1   | **[[ScannerClass#Метод Java [Scanner](ScannerClassJava) close()\|void close()]]**<br>Этот метод закрывает этот сканер.                                                                                                                                                                                                                         |
| 2   | **[[ScannerClass#Метод Java Scanner.delimiter()\|Pattern delimiter()]]**<br>Этот метод возвращает шаблон, который в данный момент использует этот сканер для сопоставления разделителей.                                                                                                                                                       |
| 3   | **[[ScannerClass#Метод Stream<MatchResult> findAll(Pattern pattern) - возвращает поток результатов сопоставления, соответствующих указанному шаблону регулярных выражений\|`Stream<MatchResult> findAll​(String patString)]]**<br>Этот метод возвращает поток результатов сопоставления, которые соответствуют предоставленной строке шаблона. |
| 4   | **String findInLine(Pattern pattern)**<br>Этот метод пытается найти следующее вхождение указанного шаблона, игнорируя разделители.                                                                                                                                                                                                             |
| 5   | **String findWithinHorizon(Pattern pattern, int horizon)**<br>Этот метод пытается найти следующее вхождение указанного шаблона.                                                                                                                                                                                                                |
| 6   | **[[ScannerClass#Метод boolean hasNext() - возвращает true, если во входных данных присутствует другой токен\|boolean hasNext()]]**<br>Этот метод возвращает true, если у этого сканера есть другой токен во входных данных.                                                                                                                   |
| 7   | **boolean hasNextBigDecimal()**<br>Этот метод возвращает true, если следующий токен во входных данных этого сканера может быть интерпретирован как [BigDecimal](BigDecimal) с помощью метода nextBigDecimal().                                                                                                                                 |
| 8   | **boolean hasNextBigInteger()**<br>Этот метод возвращает true, если следующий токен во входных данных этого сканера может быть интерпретирован как [BigInteger](BigInteger) в базе данных по умолчанию с использованием метода nextBigInteger().                                                                                               |
| 9   | **boolean hasNextBoolean()**<br>Этот метод возвращает true, если следующий токен во входных данных этого сканера может быть интерпретирован как логическое значение с использованием шаблона без учета регистра, созданного из строки "true \| false".                                                                                         |
| 10  | **boolean hasNextByte()**<br>Этот метод возвращает true, если следующий токен во входных данных этого сканера может быть интерпретирован как байтовое значение в базе данных по умолчанию с помощью метода nextByte().                                                                                                                         |
| 11  | **boolean hasNextDouble()**<br>Этот метод возвращает true, если следующий токен во входных данных этого сканера может быть интерпретирован как двойное значение с помощью метода nextDouble().                                                                                                                                                 |
| 12  | **boolean hasNextFloat()**<br>Этот метод возвращает true, если следующий токен во входных данных этого сканера может быть интерпретирован как значение с плавающей точкой с помощью метода nextFloat().                                                                                                                                        |
| 13  | **boolean hasNextInt()**<br>Этот метод возвращает true, если следующий токен во входных данных этого сканера может быть интерпретирован как значение int в базе данных по умолчанию с помощью метода nextInt().                                                                                                                                |
| 14  | **[[ScannerClass#Метод boolean hasNextLine() - возвращает true, если во входных данных есть другая строка\|boolean hasNextLine()]]**<br>Этот метод возвращает true, если во входных данных этого сканера есть другая строка.                                                                                                                   |
| 15  | **boolean hasNextLong()**<br>Этот метод возвращает true, если следующий токен во входных данных этого сканера может быть интерпретирован как длинное значение в базе данных по умолчанию с помощью метода nextLong().                                                                                                                          |
| 16  | **boolean hasNextShort()**<br>Этот метод возвращает true, если следующий токен во входных данных этого сканера может быть интерпретирован как короткое значение в базе данных по умолчанию с помощью метода nextShort().                                                                                                                       |
| 17  | **IOException ioException()**<br>Этот метод возвращает исключение IOException, последнее вызванное базовым Readable этого сканера.                                                                                                                                                                                                             |
| 18  | **[[ScannerClass#Метод Locale locale() - возвращает языковой стандарт данного сканера\|Locale locale()]]**<br>Этот метод возвращает языковой стандарт данного сканера.                                                                                                                                                                         |
| 19  | **[[ScannerClass#Метод MatchResult match() - возвращает MatchResult для последней операции сопоставления\|MatchResult match()]]**<br>Этот метод возвращает результат соответствия последней операции сканирования, выполненной этим сканером.                                                                                                  |
| 20  | **[[ScannerClass#Метод String next() - возвращает следующий токен во входных данных в виде строки\|String next()]]**<br>Этот метод находит и возвращает следующий полный токен из этого сканера.                                                                                                                                               |
| 21  | **BigDecimal nextBigDecimal()**<br>Этот метод сканирует следующий токен входных данных как [BigDecimal](BigDecimal).                                                                                                                                                                                                                           |
| 22  | **[[ScannerClass#Метод nextBigInteger() - возвращает следующий токен во входных данных как [BigInteger](BigInteger)\|BigInteger nextBigInteger()]]**<br>Этот метод сканирует следующий токен входных данных как [BigInteger](BigInteger).                                                                                                      |
| 23  | **[[ScannerClass#Метод boolean nextBoolean() - возвращает следующий токен во входных данных как логическое значение\|boolean nextBoolean()]]**<br>Этот метод преобразует следующий токен входных данных в логическое значение и возвращает это значение.                                                                                       |
| 24  | **[[ScannerClass#Метод byte nextByte() - возвращает следующий токен во входных данных в виде байта\|byte nextByte()]]**<br>Этот метод сканирует следующий токен входных данных в виде байта.                                                                                                                                                   |
| 25  | **[[ScannerClass#Метод Double nextDouble() - возвращает следующий токен во входных данных как double\|double nextDouble()]]**<br>Этот метод сканирует следующий токен входных данных как double.                                                                                                                                               |
| 26  | **[[ScannerClass#Метод float nextFloat() - возвращает следующий токен во входных данных в виде числа с плавающей точкой\|float nextFloat()]]**<br>Этот метод сканирует следующий токен входных данных как значение с плавающей точкой.                                                                                                         |
| 27  | **[int nextInt()](Method-nextInt)**<br>Этот метод сканирует следующий токен входных данных как int.                                                                                                                                                                                                                                            |
| 28  | **[[ScannerClass#Метод String nextLine() in Java - возвращает следующую строку входных данных в виде строки\|String nextLine()]]**<br>Этот метод возвращает следующую строку входных данных в виде строки.                                                                                                                                     |
| 29  | **[[ScannerClass#Метод long nextLong() - возвращает следующий токен во входных данных как long\|long nextLong()]]**<br>Этот метод сканирует следующий токен входных данных как long.                                                                                                                                                           |
| 30  | **[[ScannerClass#Метод short nextShort() - возвращает следующий токен во входных данных как short\|short nextShort()]]**<br>Этот метод сканирует следующий токен входных данных как короткий.                                                                                                                                                  |
| 31  | **[[ScannerClass#Метод radix() - возвращает radix по умолчанию для синтаксического анализа целых чисел\|int radix()]]**<br>Этот метод возвращает исходную систему счисления этого сканера по умолчанию.                                                                                                                                        |
| 32  | **[[ScannerClass#Метод void remove() - удаляет текущий токен из входных данных\|void remove()]]**<br>Удаляет текущий токен из входных данных. Операция удаления не поддерживается этой реализацией Iterator.                                                                                                                                   |
| 33  | **[[ScannerClass#Метод Scanner reset() - возвращает сканер в исходное состояние\|Scanner reset()]]**<br>Этот метод сбрасывает этот сканер.                                                                                                                                                                                                     |
| 34  | **[[ScannerClass#Метод Scanner skip() - пропускает входные данные, соответствующие указанному шаблону\|Scanner skip(Pattern pattern)]]**<br>Этот метод пропускает ввод, соответствующий указанному шаблону, игнорируя разделители.                                                                                                             |
| 35  | **[[ScannerClass#Метод tokens() - возвращает итератор по токенам во входных данных\|Stream<String> tokens()]]**<br>Возвращает поток токенов, разделенных разделителями, из этого сканера.                                                                                                                                                      |
| 36  | **[[ScannerClass#Метод String toString() - возвращает строковое представление объекта scanner\|String toString()]]**<br>Этот метод возвращает строковое представление этого сканера.                                                                                                                                                           |
| 37  | **[[ScannerClass#Метод Scanner useDelimiter() - устанавливает разделитель для синтаксического анализа входных данных\|Scanner useDelimiter(Pattern pattern)]]**<br>Этот метод устанавливает разделитель для синтаксического анализа входных данных.                                                                                            |
| 38  | **[[ScannerClass#Метод useLocale(Locale locale) - Устанавливает локаль сканера в указанную локаль\|Scanner useLocale(Locale locale)]]**<br>Этот метод устанавливает локаль этого сканера в указанную локаль.                                                                                                                                   |
| 39  | **[[ScannerClass#Метод useRadix(int radix) - устанавливает систему счисления сканера\|Scanner useRadix(int radix)]]**<br>Этот метод устанавливает систему счисления этого сканера по умолчанию в указанный.                                                                                                                                    |
#### Типы ввода Java-сканера ####

Класс сканера помогает использовать стандартный поток ввода в Java. Итак, нам нужны некоторые методы для извлечения данных из потока. Методы, используемые для извлечения данных, упомянуты ниже:

|Метод|Описание|
|---|---|
|**nextBoolean()**|Используется для чтения логического значения|
|**nextByte()**|Используется для считывания байтового значения|
|**nextDouble()**|Используется для считывания двойного значения|
|**nextFloat()**|Используется для считывания значения с плавающей точкой|
|**nextInt()**|Используется для считывания значения Int|
|**nextLine()**|Используется для считывания значения строки|
|**nextLong()**|Используется для считывания длинного значения|
|**nextShort()**|Используется для считывания короткого значения|

Давайте посмотрим на фрагмент кода для чтения данных различных типов.
```java
import java.util.Scanner;
public class ScannerDemo1 {
    public static void main(String[] args)
    {
        // Declare the object and initialize with
        // predefined standard input object
        Scanner sc = new Scanner(System.in);
 
        // String input
        String name = sc.nextLine();
 
        // Character input
        char gender = sc.next().charAt(0);
 
        // Numerical data input
        // byte, short and float can be read
        // using similar-named functions.
        int age = sc.nextInt();
        long mobileNo = sc.nextLong();
        double cgpa = sc.nextDouble();
 
        // Print the values to check if the input was
        // correctly obtained.
        System.out.println("Name: " + name);
        System.out.println("Gender: " + gender);
        System.out.println("Age: " + age);
        System.out.println("Mobile Number: " + mobileNo);
        System.out.println("CGPA: " + cgpa);
    }
}
```
**Ввод**
==Geek
F
40
9876543210
9.9==

**Вывод**
==Name: Geek
Gender: F
Age: 40
Mobile Number: 9876543210
CGPA: 9.9==

Иногда нам приходится проверять, относится ли следующее прочитанное значение к определенному типу или ввод закончился (обнаружен маркер EOF).

Затем мы проверяем, соответствуют ли входные данные сканера нужному нам типу с помощью функций hasNextXYZ(), где XYZ - это интересующий нас тип. Функция возвращает true, если у сканера есть токен этого типа, в противном случае false. Например, в приведенном ниже коде мы использовали hasNextInt(). Для проверки наличия строки мы используем hasNextLine(). Аналогично, для проверки наличия одного символа мы используем hasNext().charAt(0).

Давайте посмотрим на фрагмент кода, чтобы прочитать некоторые числа с консоли и вывести их среднее значение.
import java.util.Scanner;
``` java
public class ScannerDemo2 {
    public static void main(String[] args)
    {
        // Declare an object and initialize with
        // predefined standard input object
        Scanner sc = new Scanner(System.in);
 
        // Initialize sum and count of input elements
        int sum = 0, count = 0;
 
        // Check if an int value is available
        while (sc.hasNextInt()) {
            // Read an int value
            int num = sc.nextInt();
            sum += num;
            count++;
        }
        if (count > 0) {
            int mean = sum / count;
            System.out.println("Mean: " + mean);
        }
        else {
            System.out.println(
                "No integers were input. Mean cannot be calculated.");
        }
    }
}
```
**Ввод**
==1 2 3 4 5 ==

**Вывод**
==Mean: 3==
### Важные моменты о классе Java Scanner

- Чтобы создать объект класса Scanner, мы обычно передаем предопределенный объект System.in, который представляет стандартный поток ввода. Мы можем передать объект класса File, если хотим прочитать входные данные из файла.
- Для чтения числовых значений определенного типа данных XYZ используется функция nextXYZ(). Например, для чтения значения типа short мы можем использовать nextShort()
- Для чтения строк мы используем nextLine().
- Для чтения одного символа мы используем next().charAt(0). функция next() возвращает следующий токен / слово во входных данных в виде строки, а функция charAt(0) возвращает первый символ в этой строке.
- Класс Scanner считывает всю строку и делит ее на токены. Токены - это небольшие элементы, которые имеют некоторое значение для компилятора Java. Например, предположим, что есть входная строка: How are you.  В этом случае объект scanner прочитает всю строку и разделит строку на токены: “How”, “are” и “you”. Затем объект выполняет итерацию по каждому токену и считывает каждый токен, используя его различные методы.